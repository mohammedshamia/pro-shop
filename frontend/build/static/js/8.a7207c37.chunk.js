(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{135:function(e,a,t){"use strict";var n=t(1),r=t(0),s=t.n(r),c=t(3),o=t.n(c);a.a=function(e){return s.a.forwardRef((function(a,t){return s.a.createElement("div",Object(n.a)({},a,{ref:t,className:o()(a.className,e)}))}))}},136:function(e,a,t){"use strict";var n=t(0),r=t.n(n),s=t(138),c=function(e){var a=e.variant,t=e.children;return r.a.createElement(s.a,{variant:a},t)};c.defaultProps={variant:"info"},a.a=c},138:function(e,a,t){"use strict";var n,r=t(1),s=t(2),c=t(3),o=t.n(c),i=t(0),l=t.n(i),u=t(21),p=t(13),d=t(4),m=t(57),f=t(30),b=t(58),v=((n={})[f.b]="show",n[f.a]="show",n),h=l.a.forwardRef((function(e,a){var t=e.className,n=e.children,c=Object(s.a)(e,["className","children"]),u=Object(i.useCallback)((function(e){Object(b.a)(e),c.onEnter&&c.onEnter(e)}),[c]);return l.a.createElement(f.e,Object(r.a)({ref:a,addEndListener:m.a},c,{onEnter:u}),(function(e,a){return l.a.cloneElement(n,Object(r.a)({},a,{className:o()("fade",t,n.props.className,v[e])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade";var g=h,E=t(6),y=t.n(E),O={label:y.a.string.isRequired,onClick:y.a.func},j=l.a.forwardRef((function(e,a){var t=e.label,n=e.onClick,c=e.className,i=Object(s.a)(e,["label","onClick","className"]);return l.a.createElement("button",Object(r.a)({ref:a,type:"button",className:o()("close",c),onClick:n},i),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},t))}));j.displayName="CloseButton",j.propTypes=O,j.defaultProps={label:"Close"};var N=j,k=t(135),w=t(22),x=t(29),C=Object(k.a)("h4");C.displayName="DivStyledAsH4";var L=Object(w.a)("alert-heading",{Component:C}),P=Object(w.a)("alert-link",{Component:x.a}),A={show:!0,transition:g,closeLabel:"Close alert"},z=l.a.forwardRef((function(e,a){var t=Object(u.a)(e,{show:"onClose"}),n=t.bsPrefix,c=t.show,i=t.closeLabel,m=t.className,f=t.children,b=t.variant,v=t.onClose,h=t.dismissible,E=t.transition,y=Object(s.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),O=Object(d.a)(n,"alert"),j=Object(p.a)((function(e){v&&v(!1,e)})),k=!0===E?g:E,w=l.a.createElement("div",Object(r.a)({role:"alert"},k?y:void 0,{ref:a,className:o()(m,O,b&&O+"-"+b,h&&O+"-dismissible")}),h&&l.a.createElement(N,{onClick:j,label:i}),f);return k?l.a.createElement(k,Object(r.a)({unmountOnExit:!0},y,{ref:void 0,in:c}),w):c?w:null}));z.displayName="Alert",z.defaultProps=A,z.Link=P,z.Heading=L;a.a=z},139:function(e,a,t){"use strict";t.d(a,"e",(function(){return u})),t.d(a,"d",(function(){return p})),t.d(a,"c",(function(){return d})),t.d(a,"a",(function(){return m})),t.d(a,"g",(function(){return f})),t.d(a,"b",(function(){return b})),t.d(a,"f",(function(){return v}));var n=t(14),r=t.n(n),s=t(23),c=t(10),o=t(24),i=t.n(o),l=t(56),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var t=Object(s.a)(r.a.mark((function t(n){var s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.p}),t.next=4,i.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(a));case 4:s=t.sent,o=s.data,n({type:c.q,payload:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:c.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var a=Object(s.a)(r.a.mark((function a(t){var n,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.m}),a.next=4,i.a.get("/api/products/".concat(e));case 4:n=a.sent,s=n.data,t({type:c.n,payload:s}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:c.l,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var a=Object(s.a)(r.a.mark((function a(t,n){var s,o,u,p;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.j}),s=n(),o=s.user.userInfo,u={headers:{Authorization:"Bearer ".concat(o.token)}},a.next=6,i.a.delete("/api/products/".concat(e),u);case 6:t({type:c.k}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Not authorized, token failed"===(p=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&t(Object(l.e)()),t({type:c.i,payload:p});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},m=function(){return function(){var e=Object(s.a)(r.a.mark((function e(a,t){var n,s,o,u,p,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:c.b}),n=t(),s=n.user.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,i.a.post("/api/products",{},o);case 6:u=e.sent,p=u.data,a({type:c.h,payload:p}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&a(Object(l.e)()),a({type:c.a,payload:d});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a,t){return e.apply(this,arguments)}}()},f=function(e){return function(){var a=Object(s.a)(r.a.mark((function a(t,n){var s,o,u,p,d,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:c.v}),s=n(),o=s.user.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},a.next=6,i.a.put("/api/products/".concat(e._id),e,u);case 6:p=a.sent,d=p.data,t({type:c.x,payload:d}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"Not authorized, token failed"===(m=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&t(Object(l.e)()),t({type:c.u,payload:m});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},b=function(e,a){return function(){var t=Object(s.a)(r.a.mark((function t(n,s){var o,u,p,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.e}),o=s(),u=o.user.userInfo,p={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},t.next=6,i.a.post("/api/products/".concat(e,"/reviews"),a,p);case 6:n({type:c.g}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(l.e)()),n({type:c.d,payload:d});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},v=function(){return function(){var e=Object(s.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:c.s}),e.next=4,i.a.get("/api/products/top");case 4:t=e.sent,n=t.data,a({type:c.t,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:c.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()}},140:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return c}));var n=t(42),r=function(e){return e.productList},s=Object(n.a)(r,(function(e){return{products:e.products,isLoading:e.isLoading,error:e.errorMsg,pages:e.pages,page:e.page}})),c=Object(n.a)((function(e){return e.productDetails}),(function(e){return{product:e.product,isLoading:e.isLoading,error:e.errorMsg}}));Object(n.a)(r,(function(e){return e.isLoading})),Object(n.a)(r,(function(e){return e.errorMsg}))},148:function(e,a,t){"use strict";var n=t(1),r=t(2),s=t(3),c=t.n(s),o=t(0),i=t.n(o),l=t(4),u=i.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,o=e.striped,u=e.bordered,p=e.borderless,d=e.hover,m=e.size,f=e.variant,b=e.responsive,v=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),h=Object(l.a)(t,"table"),g=c()(s,h,f&&h+"-"+f,m&&h+"-"+m,o&&h+"-striped",u&&h+"-bordered",p&&h+"-borderless",d&&h+"-hover"),E=i.a.createElement("table",Object(n.a)({},v,{className:g,ref:a}));if(b){var y=h+"-responsive";return"string"===typeof b&&(y=y+"-"+b),i.a.createElement("div",{className:y},E)}return E}));a.a=u},149:function(e,a,t){"use strict";var n=t(64),r=t(0),s=t.n(r),c=t(1),o=t(2),i=t(3),l=t.n(i),u=t(4),p=t(29),d=s.a.forwardRef((function(e,a){var t=e.active,n=e.disabled,r=e.className,i=e.style,u=e.activeLabel,d=e.children,m=Object(o.a)(e,["active","disabled","className","style","activeLabel","children"]),f=t||n?"span":p.a;return s.a.createElement("li",{ref:a,style:i,className:l()(r,"page-item",{active:t,disabled:n})},s.a.createElement(f,Object(c.a)({className:"page-link",disabled:n},m),d,t&&u&&s.a.createElement("span",{className:"sr-only"},u)))}));d.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},d.displayName="PageItem";var m=d;function f(e,a,t){function n(e){var n=e.children,r=Object(o.a)(e,["children"]);return s.a.createElement(d,r,s.a.createElement("span",{"aria-hidden":"true"},n||a),s.a.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),n.displayName=e,n}var b=f("First","\xab"),v=f("Prev","\u2039","Previous"),h=f("Ellipsis","\u2026","More"),g=f("Next","\u203a"),E=f("Last","\xbb"),y=s.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,r=e.children,i=e.size,p=Object(o.a)(e,["bsPrefix","className","children","size"]),d=Object(u.a)(t,"pagination");return s.a.createElement("ul",Object(c.a)({ref:a},p,{className:l()(n,d,i&&d+"-"+i)}),r)}));y.First=b,y.Prev=v,y.Ellipsis=h,y.Item=m,y.Next=g,y.Last=E;var O=y,j=t(25);a.a=function(e){var a=e.pages,t=e.page,r=e.isAdmin,c=void 0!==r&&r,o=e.keyword,i=void 0===o?"":o;return a>1&&s.a.createElement(O,null,Object(n.a)(Array(a).keys()).map((function(e){return s.a.createElement(j.LinkContainer,{key:e+1,to:c?"/admin/productlist/".concat(e+1):i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1)},s.a.createElement(O.Item,{active:e+1===t},e+1))})))}},168:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(25),c=t(131),o=t(79),i=t(80),l=t(148),u=t(33),p=t(136),d=t(59),m=t(149),f=t(139),b=t(10),v=t(140);a.default=function(e){var a=e.history,t=e.match.params.pageNumber||1,h=Object(u.b)(),g=Object(u.c)(v.b),E=g.loading,y=g.error,O=g.products,j=g.page,N=g.pages,k=Object(u.c)((function(e){return e.productDelete})),w=k.loading,x=k.error,C=k.success,L=Object(u.c)((function(e){return e.productCreate})),P=L.loading,A=L.error,z=L.success,R=L.product,I=Object(u.c)((function(e){return e.user})).userInfo;Object(n.useEffect)((function(){h({type:b.c}),I&&I.isAdmin||a.push("/login"),z?a.push("/admin/product/".concat(R._id,"/edit")):h(Object(f.e)("",t))}),[h,a,I,C,z,R,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{className:"align-items-center"},r.a.createElement(o.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(o.a,{className:"text-right"},r.a.createElement(i.a,{className:"my-3",onClick:function(){h(Object(f.a)())}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),w&&r.a.createElement(d.a,null),x&&r.a.createElement(p.a,{variant:"danger"},x),P&&r.a.createElement(d.a,null),A&&r.a.createElement(p.a,{variant:"danger"},A),E?r.a.createElement(d.a,null):y?r.a.createElement(p.a,{variant:"danger"},y):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null))),r.a.createElement("tbody",null,O.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(s.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(i.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(i.a,{variant:"danger",className:"btn-sm",onClick:function(){return a=e._id,void(window.confirm("Are you sure")&&h(Object(f.c)(a)));var a}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(m.a,{pages:N,page:j,isAdmin:!0})))}}}]);
//# sourceMappingURL=8.a7207c37.chunk.js.map