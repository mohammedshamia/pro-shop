(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{135:function(e,t,a){"use strict";var n=a(1),r=a(0),s=a.n(r),o=a(3),c=a.n(o);t.a=function(e){return s.a.forwardRef((function(t,a){return s.a.createElement("div",Object(n.a)({},t,{ref:a,className:c()(t.className,e)}))}))}},136:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(138),o=function(e){var t=e.variant,a=e.children;return r.a.createElement(s.a,{variant:t},a)};o.defaultProps={variant:"info"},t.a=o},138:function(e,t,a){"use strict";var n,r=a(1),s=a(2),o=a(3),c=a.n(o),l=a(0),i=a.n(l),u=a(21),d=a(13),p=a(4),f=a(57),m=a(30),b=a(58),v=((n={})[m.b]="show",n[m.a]="show",n),h=i.a.forwardRef((function(e,t){var a=e.className,n=e.children,o=Object(s.a)(e,["className","children"]),u=Object(l.useCallback)((function(e){Object(b.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return i.a.createElement(m.e,Object(r.a)({ref:t,addEndListener:f.a},o,{onEnter:u}),(function(e,t){return i.a.cloneElement(n,Object(r.a)({},t,{className:c()("fade",a,n.props.className,v[e])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade";var y=h,E=a(6),O=a.n(E),j={label:O.a.string.isRequired,onClick:O.a.func},k=i.a.forwardRef((function(e,t){var a=e.label,n=e.onClick,o=e.className,l=Object(s.a)(e,["label","onClick","className"]);return i.a.createElement("button",Object(r.a)({ref:t,type:"button",className:c()("close",o),onClick:n},l),i.a.createElement("span",{"aria-hidden":"true"},"\xd7"),i.a.createElement("span",{className:"sr-only"},a))}));k.displayName="CloseButton",k.propTypes=j,k.defaultProps={label:"Close"};var g=k,N=a(135),w=a(22),x=a(29),C=Object(N.a)("h4");C.displayName="DivStyledAsH4";var A=Object(w.a)("alert-heading",{Component:C}),z=Object(w.a)("alert-link",{Component:x.a}),I={show:!0,transition:y,closeLabel:"Close alert"},P=i.a.forwardRef((function(e,t){var a=Object(u.a)(e,{show:"onClose"}),n=a.bsPrefix,o=a.show,l=a.closeLabel,f=a.className,m=a.children,b=a.variant,v=a.onClose,h=a.dismissible,E=a.transition,O=Object(s.a)(a,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),j=Object(p.a)(n,"alert"),k=Object(d.a)((function(e){v&&v(!1,e)})),N=!0===E?y:E,w=i.a.createElement("div",Object(r.a)({role:"alert"},N?O:void 0,{ref:t,className:c()(f,j,b&&j+"-"+b,h&&j+"-dismissible")}),h&&i.a.createElement(g,{onClick:k,label:l}),m);return N?i.a.createElement(N,Object(r.a)({unmountOnExit:!0},O,{ref:void 0,in:o}),w):o?w:null}));P.displayName="Alert",P.defaultProps=I,P.Link=z,P.Heading=A;t.a=P},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return v}));var n=a(14),r=a.n(n),s=a(23),o=a(24),c=a.n(o),l=a(31),i=a(9),u=a(56),d=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,o,d,p,f,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.b}),s=n(),o=s.user.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,c.a.post("/api/orders",e,d);case 6:p=t.sent,f=p.data,a({type:i.d,payload:f}),a({type:l.b,payload:f}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(m=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:i.a,payload:m});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,o,l,d,p,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.j}),s=n(),o=s.user.userInfo,l={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,c.a.get("/api/orders/".concat(e),l);case 6:d=t.sent,p=d.data,a({type:i.k,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:i.i,payload:f});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n,s){var o,l,d,p,f,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.t}),o=s(),l=o.user.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,c.a.put("/api/orders/".concat(e,"/pay"),t,d);case 6:p=a.sent,f=p.data,n({type:i.v,payload:f}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"Not authorized, token failed"===(m=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(u.e)()),n({type:i.s,payload:m});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,o,l,d,p,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.f}),s=n(),o=s.user.userInfo,l={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,c.a.put("/api/orders/".concat(e._id,"/deliver"),{},l);case 6:d=t.sent,p=d.data,a({type:i.h,payload:p}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:i.e,payload:f});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,o,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.n}),n=a(),s=n.user.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,c.a.get("/api/orders/myorders",o);case 6:l=e.sent,d=l.data,t({type:i.p,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(p=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(u.e)()),t({type:i.m,payload:p});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,o,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.q}),n=a(),s=n.user.userInfo,o={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,c.a.get("/api/orders",o);case 6:l=e.sent,d=l.data,t({type:i.r,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(p=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(u.e)()),t({type:i.l,payload:p});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()}},148:function(e,t,a){"use strict";var n=a(1),r=a(2),s=a(3),o=a.n(s),c=a(0),l=a.n(c),i=a(4),u=l.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,c=e.striped,u=e.bordered,d=e.borderless,p=e.hover,f=e.size,m=e.variant,b=e.responsive,v=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),h=Object(i.a)(a,"table"),y=o()(s,h,m&&h+"-"+m,f&&h+"-"+f,c&&h+"-striped",u&&h+"-bordered",d&&h+"-borderless",p&&h+"-hover"),E=l.a.createElement("table",Object(n.a)({},v,{className:y,ref:t}));if(b){var O=h+"-responsive";return"string"===typeof b&&(O=O+"-"+b),l.a.createElement("div",{className:O},E)}return E}));t.a=u},170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),o=a(148),c=a(80),l=a(33),i=a(136),u=a(59),d=a(142);t.default=function(e){var t=e.history,a=Object(l.b)(),p=Object(l.c)((function(e){return e.orderList})),f=p.loading,m=p.error,b=p.orders,v=Object(l.c)((function(e){return e.user})).userInfo;return Object(n.useEffect)((function(){v&&v.isAdmin?a(Object(d.e)()):t.push("/login")}),[a,t,v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Orders"),f?r.a.createElement(u.a,null):m?r.a.createElement(i.a,{variant:"danger"},m):r.a.createElement(o.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,b.map((function(e){var t;return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?null===(t=e.deliveredAt)||void 0===t?void 0:t.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(s.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(c.a,{variant:"light",className:"btn-sm"},"Details"))))})))))}}}]);
//# sourceMappingURL=11.be5c9bc6.chunk.js.map