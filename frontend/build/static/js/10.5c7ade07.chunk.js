(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{136:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(138),s=function(e){var t=e.variant,a=e.children;return r.a.createElement(c.a,{variant:t},a)};s.defaultProps={variant:"info"},t.a=s},139:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return v})),a.d(t,"f",(function(){return E}));var n=a(14),r=a.n(n),c=a(23),s=a(10),o=a(24),l=a.n(o),u=a(56),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:s.p}),a.next=4,l.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=a.sent,o=c.data,n({type:s.q,payload:o}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:s.o,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:s.m}),t.next=4,l.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data,a({type:s.n,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.l,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,o,i,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:s.j}),c=n(),o=c.user.userInfo,i={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,l.a.delete("/api/products/".concat(e),i);case 6:a({type:s.k}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:s.i,payload:p});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,o,i,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.b}),n=a(),c=n.user.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,l.a.post("/api/products",{},o);case 6:i=e.sent,p=i.data,t({type:s.h,payload:p}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(m=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(u.e)()),t({type:s.a,payload:m});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,o,i,p,m,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:s.v}),c=n(),o=c.user.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,l.a.put("/api/products/".concat(e._id),e,i);case 6:p=t.sent,m=p.data,a({type:s.x,payload:m}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(u.e)()),a({type:s.u,payload:f});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n,c){var o,i,p,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:s.e}),o=c(),i=o.user.userInfo,p={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},a.next=6,l.a.post("/api/products/".concat(e,"/reviews"),t,p);case 6:n({type:s.g}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Not authorized, token failed"===(m=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(u.e)()),n({type:s.d,payload:m});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},E=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.s}),e.next=4,l.a.get("/api/products/top");case 4:a=e.sent,n=a.data,t({type:s.t,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.r,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},140:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s}));var n=a(42),r=function(e){return e.productList},c=Object(n.a)(r,(function(e){return{products:e.products,isLoading:e.isLoading,error:e.errorMsg,pages:e.pages,page:e.page}})),s=Object(n.a)((function(e){return e.productDetails}),(function(e){return{product:e.product,isLoading:e.isLoading,error:e.errorMsg}}));Object(n.a)(r,(function(e){return e.isLoading})),Object(n.a)(r,(function(e){return e.errorMsg}))},145:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,a&&a))};c.defaultProps={color:"#f8e825"},t.a=c},147:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(152),s=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(c.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keyword",content:n}))};s.defaultProps={title:"Welcome To ProShop",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs"},t.a=s},151:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(3),s=a.n(c),o=a(0),l=a.n(o),u=(a(35),a(21)),i=a(4),p=a(65),m=a(63),f=a(12),d={variant:void 0,active:!1,disabled:!1},v=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.active,u=e.disabled,p=e.className,d=e.variant,v=e.action,E=e.as,b=e.eventKey,y=e.onClick,g=Object(r.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);a=Object(i.a)(a,"list-group-item");var h=Object(o.useCallback)((function(e){if(u)return e.preventDefault(),void e.stopPropagation();y&&y(e)}),[u,y]);return l.a.createElement(m.a,Object(n.a)({ref:t},g,{eventKey:Object(f.b)(b||null,g.href),as:E||(v?g.href?"a":"button":"div"),onClick:h,className:s()(p,a,c&&"active",u&&"disabled",d&&a+"-"+d,v&&a+"-action")}))}));v.defaultProps=d,v.displayName="ListGroupItem";var E=v,b={variant:void 0,horizontal:void 0},y=l.a.forwardRef((function(e,t){var a,c=Object(u.a)(e,{activeKey:"onSelect"}),o=c.className,m=c.bsPrefix,f=c.variant,d=c.horizontal,v=c.as,E=void 0===v?"div":v,b=Object(r.a)(c,["className","bsPrefix","variant","horizontal","as"]),y=Object(i.a)(m,"list-group");return a=d?!0===d?"horizontal":"horizontal-"+d:null,l.a.createElement(p.a,Object(n.a)({ref:t},b,{as:E,className:s()(o,y,f&&y+"-"+f,a&&y+"-"+a)}))}));y.defaultProps=b,y.displayName="ListGroup",y.Item=E;t.a=y},157:function(e,t,a){"use strict";a.r(t);var n=a(64),r=a(61),c=a(0),s=a.n(c),o=a(34),l=a(131),u=a(79),i=a(146),p=a(151),m=a(150),f=a(132),d=a(80),v=a(145),E=a(33),b=a(140),y=a(139),g=a(59),h=a(136),k=a(60),j=a(10),O=a(147);t.default=function(e){var t=e.match,a=e.history,w=Object(c.useState)(1),x=Object(r.a)(w,2),I=x[0],N=x[1],C=Object(E.b)(),P=Object(E.c)(b.a),S=P.product,z=P.isLoading,L=P.error,R=Object(c.useState)(0),A=Object(r.a)(R,2),G=A[0],B=A[1],D=Object(c.useState)(""),K=Object(r.a)(D,2),T=K[0],_=K[1],F=Object(E.c)(k.b).userInfo,M=Object(E.c)((function(e){return e.productReviewCreate})),W=M.success,q=M.loading,J=M.error;Object(c.useEffect)((function(){W&&(B(0),_("")),S._id&&S._id===t.params.id||(C(Object(y.d)(t.params.id)),C({type:j.f}))}),[C,t,W]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{title:S.name}),s.a.createElement(o.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),z?s.a.createElement(g.a,null):L?s.a.createElement(h.a,{variant:"danger"},L):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,null,s.a.createElement(u.a,{md:6},s.a.createElement(i.a,{src:S.image,alt:S.name,fluid:!0})),s.a.createElement(u.a,{md:3},s.a.createElement(p.a,{variant:"flush"},s.a.createElement(p.a.Item,null,s.a.createElement("h3",null,S.name)),s.a.createElement(p.a.Item,null,s.a.createElement(v.a,{value:S.rating,text:"".concat(S.numReviews," reviews")})),s.a.createElement(p.a.Item,null,"Price: $",S.price),s.a.createElement(p.a.Item,null,"Description: ",S.description))),s.a.createElement(u.a,{md:3},s.a.createElement(m.a,null,s.a.createElement(p.a,{variant:"flush"},s.a.createElement(p.a.Item,null,s.a.createElement(l.a,null,s.a.createElement(u.a,null,"Price:"),s.a.createElement(u.a,null,s.a.createElement("strong",null,"$",S.price)))),s.a.createElement(p.a.Item,null,s.a.createElement(l.a,null,s.a.createElement(u.a,null,"Status:"),s.a.createElement(u.a,null,S.countInStock>0?"In Stock":"Out Of Stock"))),S.countInStock>0&&s.a.createElement(p.a.Item,null,s.a.createElement(l.a,null,s.a.createElement(u.a,null,"Qty"),s.a.createElement(u.a,null,s.a.createElement(f.a.Control,{as:"select",value:I,onChange:function(e){return N(e.target.value)}},Object(n.a)(Array(S.countInStock).keys()).map((function(e){return s.a.createElement("option",{key:e+1,value:e+1},e+1)})))))),s.a.createElement(p.a.Item,null,s.a.createElement(d.a,{onClick:function(){a.push("/cart/".concat(t.params.id,"?qty=").concat(I))},className:"btn-block",type:"button",disabled:0===S.countInStock},"Add To Cart")))))),s.a.createElement(l.a,null,s.a.createElement(u.a,{md:6},s.a.createElement("h2",null,"Reviews"),0===S.reviews.length&&s.a.createElement(h.a,null,"No Reviews"),s.a.createElement(p.a,{variant:"flush"},S.reviews.map((function(e){return s.a.createElement(p.a.Item,{key:e._id},s.a.createElement("strong",null,e.name),s.a.createElement(v.a,{value:e.rating}),s.a.createElement("p",null,e.createdAt.substring(0,10)),s.a.createElement("p",null,e.comment))})),s.a.createElement(p.a.Item,null,s.a.createElement("h2",null,"Write a Customer Review"),W&&s.a.createElement(h.a,{variant:"success"},"Review submitted successfully"),q&&s.a.createElement(g.a,null),J&&s.a.createElement(h.a,{variant:"danger"},J),F?s.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),C(Object(y.b)(t.params.id,{rating:G,comment:T}))}},s.a.createElement(f.a.Group,{controlId:"rating"},s.a.createElement(f.a.Label,null,"Rating"),s.a.createElement(f.a.Control,{as:"select",value:G,onChange:function(e){return B(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),s.a.createElement("option",{value:"1"},"1 - Poor"),s.a.createElement("option",{value:"2"},"2 - Fair"),s.a.createElement("option",{value:"3"},"3 - Good"),s.a.createElement("option",{value:"4"},"4 - Very Good"),s.a.createElement("option",{value:"5"},"5 - Excellent"))),s.a.createElement(f.a.Group,{controlId:"comment"},s.a.createElement(f.a.Label,null,"Comment"),s.a.createElement(f.a.Control,{as:"textarea",row:"3",value:T,onChange:function(e){return _(e.target.value)}})),s.a.createElement(d.a,{disabled:q,type:"submit",variant:"primary"},"Submit")):s.a.createElement(h.a,null,"Please ",s.a.createElement(o.Link,{to:"/login"},"sign in")," to write a review"," ")))))))}}}]);
//# sourceMappingURL=10.5c7ade07.chunk.js.map